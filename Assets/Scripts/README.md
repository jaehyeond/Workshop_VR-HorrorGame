# GP VR 공포 스릴러 게임 구현 가이드

이 프로젝트는 대한민국 최전방 GP(Guard Post)를 배경으로 한 VR 탈출 스릴러 게임입니다. 흔한 귀신이나 괴물 대신, 한밤중 최전방에서 벌어진 병사의 광기 어린 총기 난사 사건이라는 현실적이고 생생한 소재를 통해 차별화된 공포 경험을 제공합니다.

## 프로젝트 구조

프로젝트는 다음과 같은 주요 폴더 구조로 구성되어 있습니다:

- `/Assets/Scripts/Core/`: 핵심 VR 시스템 스크립트
- `/Assets/Scripts/GP/`: GP 게임 관련 스크립트
- `/Assets/Prefabs/`: 프리팹 (플레이어, 적, 상호작용 오브젝트 등)
- `/Assets/Scenes/`: 게임 씬

## 핵심 컴포넌트

### VR 시스템

- `VRRig.cs`: VR 플레이어 리그 구성을 관리하는 핵심 컴포넌트
- `VRLocomotion.cs`: VR 플레이어의 이동을 담당하는 컴포넌트
- `VRHandController.cs`: VR 손 컨트롤러와 상호작용을 관리하는 컴포넌트
- `Grabbable.cs`: VR에서 잡을 수 있는 오브젝트를 정의하는 기본 클래스

### GP 게임 로직

- `GPGameManager.cs`: GP 공포 게임의 전체 게임 흐름을 관리하는 매니저
- `GPUIManager.cs`: GP 게임의 UI 요소를 관리하는 컴포넌트
- `GPEnemySoldier.cs`: AI 병사의 행동과 플레이어 감지 로직을 구현
- `GPHidingSpot.cs`: GP 게임의 특정 은신 지점을 정의하는 컴포넌트

## 게임 설정 가이드

### 1. 기본 VR 설정

1. 새 씬을 생성하고, 필수 XR 컴포넌트를 포함하는 프리팹을 배치합니다.
2. 플레이어 게임 오브젝트를 생성하고 다음 컴포넌트를 추가합니다:
   - `CharacterController`
   - `VRRig`
   - `VRLocomotion`
   - 각 컨트롤러에 `VRHandController` 추가

### 2. GP 게임 설정

1. `GPGameManager` 오브젝트를 씬에 추가하고 설정합니다:
   - 게임 지속 시간: 6분 (360초)
   - 오디오 소스 및 클립 할당
   - UI 매니저 참조 설정

2. GP 게임의 UI 요소 구성:
   - 캔버스 생성 및 `GPUIManager` 컴포넌트 추가
   - 타이머, 상태 아이콘, 게임 시작/종료 패널 등 구성

3. 적 AI 병사 설정:
   - 병사 모델에 `GPEnemySoldier` 컴포넌트 추가
   - `NavMeshAgent` 추가 및 설정
   - 패트롤 포인트 설정

4. 은신 지점 설정:
   - 은신 가능 위치에 `GPHidingSpot` 컴포넌트 추가
   - 각 은신 지점에 콜라이더 추가 (Is Trigger 체크)
   - 필요시 시각/사운드 피드백 설정

### 3. 은신 메커니즘

플레이어 은신 방법:
1. 실제 플레이어가 앉으면 게임에서도 앉는 동작으로 인식됩니다.
2. 지정된 은신 지점에서 앉으면 완전 은신 상태가 됩니다.
3. 은신 상태에서는 적의 감지 범위가 크게 줄어듭니다.

### 4. 게임 목표 설정

1. 열쇠 아이템 설정:
   - 열쇠 오브젝트에 `Grabbable` 컴포넌트 추가
   - 획득 시 `GPGameManager.AcquireKey()` 호출

2. 탈출 포인트 설정:
   - 탈출 지점에 트리거 콜라이더 추가
   - 플레이어가 열쇠를 가지고 트리거 진입 시 `GPGameManager.PlayerEscaped()` 호출

## 구현 팁

1. **성능 최적화**: VR은 높은 프레임 레이트가 필수적입니다. 과도한 라이트, 복잡한 셰이더, 많은 물리 연산은 피하세요.
2. **VR 멀미 방지**: 급격한 카메라 움직임은 멀미를 유발할 수 있습니다. 천천히 가속/감속하는 이동 방식을 사용하세요.
3. **현실적인 사운드**: 3D 공간 사운드를 활용하여 몰입감을 높이세요.
4. **AI 미세 조정**: 너무 쉽거나 어렵지 않게 AI의 감지 범위, 속도 등을 적절히 조정하세요.

## Meta XR SDK 통합

이 프로젝트는 Meta XR SDK를 활용하여 구현됩니다. 아바타 시스템을 활용하려면:

1. Meta XR SDK의 아바타 시스템과 `VRRig` 컴포넌트를 연결합니다.
2. Meta XR Avatars에서 손가락 트래킹 기능을 활용하려면, 아바타의 손 모델을 `VRHandController`와 연결합니다.
3. 필요에 따라 기존 Meta XR Interaction 시스템과 함께 사용할 수 있습니다.

## 추가 개발 방향

- **더 많은 상호작용 요소**: 문 여닫기, 서랍 열기, 라디오 작동 등 다양한 상호작용을 추가하세요.
- **다양한 적 행동 패턴**: 여러 패트롤 루트, 청각 감지, 수색 패턴 등을 추가하세요.
- **환경 스토리텔링**: 메모, 편지, 낙서 등을 통해 배경 스토리를 전달하세요.
- **다양한 난이도**: 쉬움, 보통, 어려움 등 다양한 난이도 옵션을 제공하세요. 